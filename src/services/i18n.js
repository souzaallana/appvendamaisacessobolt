const translations = {
  pt: {
    splash_loading: 'Carregando...',

    login_title: 'Bem-vindo',
    login_subtitle: 'Fa√ßa login para continuar',
    login_email: 'E-mail',
    login_password: 'Senha',
    login_button: 'Entrar',
    login_forgot: 'Esqueceu a senha?',
    login_signup: 'N√£o tem conta? Cadastre-se',
    login_error: 'E-mail ou senha incorretos',

    home_title: 'In√≠cio',
    home_stats_total: 'Total de Produtos',
    home_stats_active: 'Ativos',
    home_stats_ml: 'Mercado Livre',
    home_welcome: 'Ol√°, {{name}}!',
    home_quick_register: 'Cadastro R√°pido',
    home_share_title: 'Compartilhar',
    home_marketplaces: 'Marketplaces Conectados',

    products_title: 'Produtos',
    products_all: 'Todos',
    products_ml: 'Mercado Livre',
    products_shopee: 'Shopee',
    products_paused: 'Pausados',
    products_search: 'Buscar produtos...',
    products_sort: 'Ordenar',
    products_empty: 'Nenhum produto encontrado',
    products_add_first: 'Cadastre seu primeiro produto',

    register_title: 'Cadastrar Produto',
    register_photo: 'Tirar Foto',
    register_voice: 'Descrever por Voz',
    register_gallery: 'Escolher da Galeria',
    register_manual: 'Preencher Manual',
    register_coming_soon: 'Em breve',

    photo_tips_title: 'Dicas para Fotos Perfeitas',
    photo_tips_subtitle: 'Siga estas dicas para melhorar suas vendas',
    photo_tips_lighting: 'Boa ilumina√ß√£o natural',
    photo_tips_background: 'Fundo neutro e limpo',
    photo_tips_angles: 'Diferentes √¢ngulos',
    photo_tips_details: 'Detalhes importantes',
    photo_tips_start: 'Come√ßar',

    photo_capture_title: 'Tire as Fotos',
    photo_capture_subtitle: 'Tire at√© 3 fotos do produto',
    photo_capture_button: 'Tirar Foto',
    photo_capture_gallery: 'Escolher da Galeria',
    photo_capture_continue: 'Continuar',

    photo_review_title: 'Revisar Fotos',
    photo_review_subtitle: 'Voc√™ pode adicionar ou remover fotos',
    photo_review_add: 'Adicionar Foto',
    photo_review_continue: 'Continuar',

    ai_processing_title: 'Analisando Produto',
    ai_processing_subtitle: 'Nossa IA est√° criando a melhor descri√ß√£o',
    ai_processing_analyzing: 'Analisando imagens',
    ai_processing_category: 'Identificando categoria',
    ai_processing_description: 'Gerando descri√ß√£o',
    ai_processing_price: 'Sugerindo pre√ßo',

    product_review_title: 'Revisar Produto',
    product_review_subtitle: 'Confira e ajuste as informa√ß√µes',
    product_review_title_label: 'T√≠tulo',
    product_review_description_label: 'Descri√ß√£o',
    product_review_category_label: 'Categoria',
    product_review_price_label: 'Pre√ßo',
    product_review_save: 'Salvar Produto',

    success_title: 'Produto Cadastrado!',
    success_subtitle: 'Seu produto foi cadastrado com sucesso',
    success_share_title: 'Compartilhar',
    success_marketplaces_title: 'Publicar em Marketplaces',
    success_new_product: 'Cadastrar Outro',
    success_view_products: 'Ver Meus Produtos',

    help_title: 'Ajuda',
    help_search: 'Como podemos ajudar?',
    help_quick_title: 'Ajuda R√°pida',
    help_whatsapp: 'WhatsApp',
    help_email: 'E-mail',
    help_videos: 'V√≠deos Tutoriais',
    help_faq_title: 'Perguntas Frequentes',

    profile_title: 'Perfil',
    profile_marketplaces: 'Vender em Marketplaces',
    profile_limit: 'Solicita√ß√£o de Limite',
    profile_invoices: 'Central de Faturas',
    profile_language: 'Idioma',
    profile_tour: 'Tour Guiado',
    profile_settings: 'Configura√ß√µes',
    profile_logout: 'Sair',

    nav_home: 'In√≠cio',
    nav_products: 'Produtos',
    nav_register: 'Cadastrar',
    nav_help: 'Dicas',
    nav_profile: 'Perfil',

    common_cancel: 'Cancelar',
    common_confirm: 'Confirmar',
    common_save: 'Salvar',
    common_delete: 'Excluir',
    common_edit: 'Editar',
    common_back: 'Voltar',
    common_next: 'Pr√≥ximo',
    common_loading: 'Carregando...',
    common_error: 'Ocorreu um erro',
    common_success: 'Sucesso!',
    common_coming_soon: 'üîí Funcionalidade em desenvolvimento',
  },

  en: {
    splash_loading: 'Loading...',

    login_title: 'Welcome',
    login_subtitle: 'Sign in to continue',
    login_email: 'Email',
    login_password: 'Password',
    login_button: 'Sign In',
    login_forgot: 'Forgot password?',
    login_signup: "Don't have an account? Sign up",
    login_error: 'Incorrect email or password',

    home_title: 'Home',
    home_stats_total: 'Total Products',
    home_stats_active: 'Active',
    home_stats_ml: 'Mercado Libre',
    home_welcome: 'Hello, {{name}}!',
    home_quick_register: 'Quick Register',
    home_share_title: 'Share',
    home_marketplaces: 'Connected Marketplaces',

    products_title: 'Products',
    products_all: 'All',
    products_ml: 'Mercado Libre',
    products_shopee: 'Shopee',
    products_paused: 'Paused',
    products_search: 'Search products...',
    products_sort: 'Sort',
    products_empty: 'No products found',
    products_add_first: 'Register your first product',

    register_title: 'Register Product',
    register_photo: 'Take Photo',
    register_voice: 'Describe by Voice',
    register_gallery: 'Choose from Gallery',
    register_manual: 'Fill Manually',
    register_coming_soon: 'Coming soon',

    photo_tips_title: 'Tips for Perfect Photos',
    photo_tips_subtitle: 'Follow these tips to improve your sales',
    photo_tips_lighting: 'Good natural lighting',
    photo_tips_background: 'Neutral and clean background',
    photo_tips_angles: 'Different angles',
    photo_tips_details: 'Important details',
    photo_tips_start: 'Start',

    photo_capture_title: 'Take Photos',
    photo_capture_subtitle: 'Take up to 3 product photos',
    photo_capture_button: 'Take Photo',
    photo_capture_gallery: 'Choose from Gallery',
    photo_capture_continue: 'Continue',

    photo_review_title: 'Review Photos',
    photo_review_subtitle: 'You can add or remove photos',
    photo_review_add: 'Add Photo',
    photo_review_continue: 'Continue',

    ai_processing_title: 'Analyzing Product',
    ai_processing_subtitle: 'Our AI is creating the best description',
    ai_processing_analyzing: 'Analyzing images',
    ai_processing_category: 'Identifying category',
    ai_processing_description: 'Generating description',
    ai_processing_price: 'Suggesting price',

    product_review_title: 'Review Product',
    product_review_subtitle: 'Check and adjust the information',
    product_review_title_label: 'Title',
    product_review_description_label: 'Description',
    product_review_category_label: 'Category',
    product_review_price_label: 'Price',
    product_review_save: 'Save Product',

    success_title: 'Product Registered!',
    success_subtitle: 'Your product was successfully registered',
    success_share_title: 'Share',
    success_marketplaces_title: 'Publish on Marketplaces',
    success_new_product: 'Register Another',
    success_view_products: 'View My Products',

    help_title: 'Help',
    help_search: 'How can we help?',
    help_quick_title: 'Quick Help',
    help_whatsapp: 'WhatsApp',
    help_email: 'Email',
    help_videos: 'Tutorial Videos',
    help_faq_title: 'Frequently Asked Questions',

    profile_title: 'Profile',
    profile_marketplaces: 'Sell on Marketplaces',
    profile_limit: 'Limit Request',
    profile_invoices: 'Invoice Center',
    profile_language: 'Language',
    profile_tour: 'Guided Tour',
    profile_settings: 'Settings',
    profile_logout: 'Sign Out',

    nav_home: 'Home',
    nav_products: 'Products',
    nav_register: 'Register',
    nav_help: 'Tips',
    nav_profile: 'Profile',

    common_cancel: 'Cancel',
    common_confirm: 'Confirm',
    common_save: 'Save',
    common_delete: 'Delete',
    common_edit: 'Edit',
    common_back: 'Back',
    common_next: 'Next',
    common_loading: 'Loading...',
    common_error: 'An error occurred',
    common_success: 'Success!',
    common_coming_soon: 'üîí Feature in development',
  },

  es: {
    splash_loading: 'Cargando...',

    login_title: 'Bienvenido',
    login_subtitle: 'Inicia sesi√≥n para continuar',
    login_email: 'Correo electr√≥nico',
    login_password: 'Contrase√±a',
    login_button: 'Iniciar Sesi√≥n',
    login_forgot: '¬øOlvidaste tu contrase√±a?',
    login_signup: '¬øNo tienes cuenta? Reg√≠strate',
    login_error: 'Correo o contrase√±a incorrectos',

    home_title: 'Inicio',
    home_stats_total: 'Total de Productos',
    home_stats_active: 'Activos',
    home_stats_ml: 'Mercado Libre',
    home_welcome: '¬°Hola, {{name}}!',
    home_quick_register: 'Registro R√°pido',
    home_share_title: 'Compartir',
    home_marketplaces: 'Marketplaces Conectados',

    products_title: 'Productos',
    products_all: 'Todos',
    products_ml: 'Mercado Libre',
    products_shopee: 'Shopee',
    products_paused: 'Pausados',
    products_search: 'Buscar productos...',
    products_sort: 'Ordenar',
    products_empty: 'No se encontraron productos',
    products_add_first: 'Registra tu primer producto',

    register_title: 'Registrar Producto',
    register_photo: 'Tomar Foto',
    register_voice: 'Describir por Voz',
    register_gallery: 'Elegir de la Galer√≠a',
    register_manual: 'Llenar Manual',
    register_coming_soon: 'Pr√≥ximamente',

    photo_tips_title: 'Consejos para Fotos Perfectas',
    photo_tips_subtitle: 'Sigue estos consejos para mejorar tus ventas',
    photo_tips_lighting: 'Buena iluminaci√≥n natural',
    photo_tips_background: 'Fondo neutro y limpio',
    photo_tips_angles: 'Diferentes √°ngulos',
    photo_tips_details: 'Detalles importantes',
    photo_tips_start: 'Comenzar',

    photo_capture_title: 'Tomar Fotos',
    photo_capture_subtitle: 'Toma hasta 3 fotos del producto',
    photo_capture_button: 'Tomar Foto',
    photo_capture_gallery: 'Elegir de la Galer√≠a',
    photo_capture_continue: 'Continuar',

    photo_review_title: 'Revisar Fotos',
    photo_review_subtitle: 'Puedes agregar o eliminar fotos',
    photo_review_add: 'Agregar Foto',
    photo_review_continue: 'Continuar',

    ai_processing_title: 'Analizando Producto',
    ai_processing_subtitle: 'Nuestra IA est√° creando la mejor descripci√≥n',
    ai_processing_analyzing: 'Analizando im√°genes',
    ai_processing_category: 'Identificando categor√≠a',
    ai_processing_description: 'Generando descripci√≥n',
    ai_processing_price: 'Sugiriendo precio',

    product_review_title: 'Revisar Producto',
    product_review_subtitle: 'Verifica y ajusta la informaci√≥n',
    product_review_title_label: 'T√≠tulo',
    product_review_description_label: 'Descripci√≥n',
    product_review_category_label: 'Categor√≠a',
    product_review_price_label: 'Precio',
    product_review_save: 'Guardar Producto',

    success_title: '¬°Producto Registrado!',
    success_subtitle: 'Tu producto fue registrado con √©xito',
    success_share_title: 'Compartir',
    success_marketplaces_title: 'Publicar en Marketplaces',
    success_new_product: 'Registrar Otro',
    success_view_products: 'Ver Mis Productos',

    help_title: 'Ayuda',
    help_search: '¬øC√≥mo podemos ayudarte?',
    help_quick_title: 'Ayuda R√°pida',
    help_whatsapp: 'WhatsApp',
    help_email: 'Correo',
    help_videos: 'Videos Tutoriales',
    help_faq_title: 'Preguntas Frecuentes',

    profile_title: 'Perfil',
    profile_marketplaces: 'Vender en Marketplaces',
    profile_limit: 'Solicitud de L√≠mite',
    profile_invoices: 'Centro de Facturas',
    profile_language: 'Idioma',
    profile_tour: 'Tour Guiado',
    profile_settings: 'Configuraciones',
    profile_logout: 'Salir',

    nav_home: 'Inicio',
    nav_products: 'Productos',
    nav_register: 'Registrar',
    nav_help: 'Consejos',
    nav_profile: 'Perfil',

    common_cancel: 'Cancelar',
    common_confirm: 'Confirmar',
    common_save: 'Guardar',
    common_delete: 'Eliminar',
    common_edit: 'Editar',
    common_back: 'Volver',
    common_next: 'Siguiente',
    common_loading: 'Cargando...',
    common_error: 'Ocurri√≥ un error',
    common_success: '¬°√âxito!',
    common_coming_soon: 'üîí Funcionalidad en desarrollo',
  },
};

class I18n {
  constructor() {
    this.currentLanguage = localStorage.getItem('language') || 'pt';
  }

  setLanguage(lang) {
    if (translations[lang]) {
      this.currentLanguage = lang;
      localStorage.setItem('language', lang);
      window.dispatchEvent(new CustomEvent('languageChange', { detail: lang }));
    }
  }

  getLanguage() {
    return this.currentLanguage;
  }

  t(key, params = {}) {
    const keys = key.split('.');
    let value = translations[this.currentLanguage];

    for (const k of keys) {
      value = value?.[k];
    }

    if (!value) {
      console.warn(`Translation not found for key: ${key}`);
      return key;
    }

    let result = value;
    Object.keys(params).forEach(param => {
      result = result.replace(`{{${param}}}`, params[param]);
    });

    return result;
  }
}

export const i18n = new I18n();
